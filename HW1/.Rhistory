Monthly.Geometric = prod(monthly.g[count]+1)^(1/45)
mydata = xts(p5_sp500$vwretd, order.by =p5_sp500$caldt )
count = 0
monthly.a = double()
monthly.g = double()
for (year in 1972:2016)
for (month in 1:12){
count = count + 1
monthly.a[count] = mean(mydata[paste0(year,"-",month)])*30
monthly.g[count] = prod(mydata[paste0(year,"-",month)]+1)-1
}
monthly.g[count]
monthly.g+1
prod(monthly.g+1)
prod(monthly.g+1)^(1/45)
#Yearly - annualization
Yearly.Arithemetic = mean(yearly.a)
count = 0
yearly.a = double()
yearly.g = double()
for (year in 1972:2016){
count = count + 1
yearly.a[count] = mean(mydata[paste0(year)])*365
yearly.g[count] = prod(mydata[paste0(year)]+1)
}
#Yearly - annualization
Yearly.Arithemetic = mean(yearly.a)
prod(yearly.g+1)
count = 0
yearly.a = double()
yearly.g = double()
for (year in 1972:2016){
count = count + 1
yearly.a[count] = mean(mydata[paste0(year)])*365
yearly.g[count] = prod(mydata[paste0(year)]+1)-1
}
prod(yearly.g+1)/45
prod(yearly.g+1)
prod(yearly.g+1)^(1/45)
count = 0
five.year.a = double()
five.year.g = double()
for (year in seq(1972,2016,5)){
count = count + 1
five.year.a[count] = mean(mydata[paste0(year)])*365
five.year.g[count] = prod(mydata[paste0(year)]+1)-1
}
fiveYear.Geometric = prod(five.year.g+1)^(1/45)
count = 0
five.year.a = double()
five.year.g = double()
for (year in seq(1972,2016,5)){
count = count + 1
five.year.a[count] = mean(mydata[paste0(year)])*365
five.year.g[count] = prod(mydata[paste0(year)]+1)-1
}
#five - Year - annualization
fiveYear.Arithemetic = mean(five.year.a)/5
fiveYear.Geometric = prod(five.year.g+1)^(1/45)
fiveYear.Geometric = prod(five.year.g+1)^(1/9)
12*45
540/12
Monthly.Geometric = prod(monthly.g+1)^(12/540)
Yearlyy.Geometric = prod(yearly.g+1)^(1/45)
Yearlyy.Geometric = prod(yearly.g+1)^(1/45)
fiveYear.Geometric = prod(five.year.g+1)^(1/9)
fiveYear.Geometric = prod(five.year.g+1)^(1/9)
fiveYear.Geometric = prod(five.year.g+1)
prod(five.year.g+1)
prod(mydata[paste0(year)]+1)-1
paste0(year, year+1, year+2, year+3, year+4)]
mydata[paste0(year, year+1, year+2, year+3, year+4)]
mydata[paste0(year, year+1, year+2, year+3, year+4)]
year
year+1
mydata[year, year+1, year+2, year+3, year+4]
mydata[2012]
mydata["2012"]
mydata["2012-2013"]
mydata["2012","2013"]
mydata["2012"]
mydata[paste0(year)]
mydata[paste0(year+1)]
mydata[paste0(year)] + mydata[paste0(year+1)
mydate[c("2012")]
mydate["2012"]
mydata["2012"]
mydata[c("2012")]
mydata[c("2012","2013")]
(paste0(year, year+1)
)
c("year", "year+1")
c(year, year+1)
c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))
mydata[c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))]
count = 0
five.year.a = double()
five.year.g = double()
for (year in seq(1972,2016,5)){
count = count + 1
five.year.a[count] = mean(mydata[c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))])
five.year.g[count] = prod(mydata[c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))]+1)-1
}
#five - Year - annualization
fiveYear.Arithemetic = mean(five.year.a)/45
count = 0
five.year.a = double()
five.year.g = double()
for (year in seq(1972,2016,5)){
count = count + 1
five.year.a[count] = mean(mydata[c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))])*365
five.year.g[count] = prod(mydata[c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))]+1)-1
}
fiveYear.Arithemetic = mean(five.year.a)
fiveYear.Geometric = prod(five.year.g+1)
fiveYear.Geometric = prod(five.year.g+1)^(1/45)
##Daliy retrun
#prod(p5_sp500$vwretd+1)^(365/dim(p5_sp500)[1])
Daily.Arithemetic = (mean(p5_sp500$vwretd)+1)^(365)-1
##Daliy retrun
#prod(p5_sp500$vwretd+1)^(365/dim(p5_sp500)[1])
Daily.Arithemetic = (mean(p5_sp500$vwretd)+1)^(365)-1
Daily.Geometric = prod(p5_sp500$vwretd+1)^(365/dim(p5_sp500)[1])
mydata = xts(p5_sp500$vwretd, order.by =p5_sp500$caldt )
count = 0
monthly.a = double()
monthly.g = double()
for (year in 1972:2016)
for (month in 1:12){
count = count + 1
monthly.a[count] = mean(mydata[paste0(year,"-",month)])*30
monthly.g[count] = prod(mydata[paste0(year,"-",month)]+1)-1
}
#Month return - annualization
Monthly.Arithemetic = mean( monthly.a)*12
Monthly.Geometric = prod(monthly.g+1)^(12/540)
Monthly.Geometric = prod(monthly.g+1)^(12/540)-1
Monthly.Geometric = prod(monthly.g+1)^(12/540)-1
count = 0
yearly.a = double()
yearly.g = double()
for (year in 1972:2016){
count = count + 1
yearly.a[count] = mean(mydata[paste0(year)])*365
yearly.g[count] = prod(mydata[paste0(year)]+1)-1
}
#Yearly - annualization
Yearly.Arithemetic = mean(yearly.a)
Yearlyy.Geometric = prod(yearly.g+1)^(1/45)
#Yearly - annualization
Yearly.Arithemetic = mean(yearly.a)
Yearlyy.Geometric = prod(yearly.g+1)^(1/45)
Yearlyy.Geometric = prod(yearly.g+1)^(1/45)
count = 0
five.year.a = double()
five.year.g = double()
for (year in seq(1972,2016,5)){
count = count + 1
five.year.a[count] = mean(mydata[c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))])*365
five.year.g[count] = prod(mydata[c(paste0(year), paste0(year+1),paste0(year+2),paste0(year+3), paste0(year+4))]+1)-1
}
#five - Year - annualization
fiveYear.Arithemetic = mean(five.year.a)
fiveYear.Geometric = prod(five.year.g+1)^(1/45)
fiveYear.Geometric = prod(five.year.g+1)^(1/45)-1
?quantmod
install.packages(quantmod)
install.packages('quantmod')
#install.packages('quantmod')
library(quantmod)
?quantmod
?`quantmod-package`
getSymbols("YHOO",src="google")
getSymbols("MSFT",src="yahoo") # from yahoo finance
View(MSFT)
View(MSFT)
View(MSFT)
View(MSFT)
getSymbols("MSFT",src="yahoo") # from yahoo finance
MSFT[1990]
MSFT["1990"]
require(quantmod)
getSymbols("YHOO",src="google") # from google finance
getSymbols("GOOG",src="yahoo") # from yahoo finance
getSymbols("DEXUSJP",src="FRED") # FX rates from FRED
getSymbols("XPT/USD",src="Oanda") # Platinum from Oanda Sort of handy, but it gets better... > # Specify lookup parameters, and save for future sessions.
setSymbolLookup(YHOO='google',GOOG='yahoo')
setSymbolLookup(DEXUSJP='FRED')
setSymbolLookup(XPTUSD=list(name="XPT/USD",src="oanda"))
saveSymbolLookup(file="mysymbols.rda")
# new sessions call loadSymbolLookup(file="mysymbols.rda")
getSymbols(c("YHOO","GOOG","DEXUSJP","XPTUSD"))
getSymbols("MSFT",src="yahoo") # from yahoo finance
barChart("MSF")
barChart(MSFT)
getSymbols.yahoo("MSFT", env, from = "2007-01-01")
getSymbols.yahoo("MSFT", from = "2007-01-01")
getSymbols.yahoo("MSFT",env=globalenv(), from = "2007-01-01")
View(MSFT)
)
getSymbols.yahoo("MSFT",env=globalenv(), from = "1989-12-29", to = "2018-09-28")
View(MSFT)
View(MSFT)
getSymbols.yahoo("MSFT",env=globalenv(), from = "1989-12-29", to = "2018-09-29")
View(MSFT)
View(MSFT)
to.weekly(MSFT)
getDividends("MSFT",env=globalenv(), from = "1989-12-29", to = "2018-09-29")
# Load data from Yahoo finance
getSymbols.yahoo("MSFT",env=globalenv(), from = "1989-12-29", to = "2018-09-29")
getDividends("MSFT",env=globalenv(), from = "1989-12-29", to = "2018-09-29")
DIV = getDividends("MSFT",env=globalenv(), from = "1989-12-29", to = "2018-09-29")
View(DIV)
View(DIV)
to.weekly(MSFT)
to.weekly(MSFT$MSFT.Close)
MSFT$MSFT.Close
to.weekly(MSFT$MSFT.Close)
to.weekly(MSFT[,MSFT.Close])
MSFT[,MSFT.Close]
MSFT[MSFT.Close,]
MSFT[,MSFT.Close]
ls
read.csv(data.csv)
read.csv(data.csv)
read.csv(data)
read.csv("data.csv")
read.csv("data")
read.csv(file = data.csv)
read.csv(file = 'data.csv')
data <- read_csv("Desktop/404 Coorperate Finance /HW1/data.csv")
# 404 coorperate finance
library(readr)
data <- read_csv("Desktop/404 Coorperate Finance /HW1/data.csv")
View(data)
as.Date(data.csv)
as.Date(data$caldt)
View(data)
?as.Date
as.Date(data$caldt, format(%Y%m%d))
xts(data[,-1], order.by=as.Date(DBV$Date))
data[,-1]
xts(data[,-1], order.by=as.Date(data$caldt))
library(quantmod)
xts(data[,-1], order.by=as.Date(data$caldt))
data$caldt
xts(data[,-1], order.by=as.Date(data$caldt,format(%Y%m%d)))
as.Date(data$caldt)
as.Date(data$caldt, format("%Y%m%d"))
as.Date(data$caldt, format("%Y %m %d"))
as.Date(data$caldt,"%Y %m %d")
as.Date(data$caldt,"%Y%m%d")
View(data)
as.Date(as.character(data$caldt,"%Y%m%d"))
as.Date(as.character(data$caldt),"%Y%m%d")
data$caldt = as.Date(as.character(data$caldt),"%Y%m%d")
xts(data[,-1], order.by=as.Date(data$caldt))
View(data)
View(data)
diff(data$caldt)
# Total period of holding period return
Q1.return.1 = diff(data$vwindd)
diff(data$vwindd)
diff(data$vwindd)
# Total period of holding period return
Q1.return.1 = shift(data$vwindd)/
# Total period of holding period return
Q1.return.1 = shift(data$vwindd)
# Total period of holding period return
Q1.return.1 = back(data$vwindd)
# Total period of holding period return
Q1.return.1 = shift(data$vwindd)
shift(data$vwindd)
shift(data$caldt)
# Total period of holding period return
Q1.return.1 = size(diff(data$vwindd))
diff(data$vwindd)
size(diff(data$vwindd))
?size
??size
# Total period of holding period return
Q1.return.1 = diff(data$vwindd)
# Total period of holding period return
Q1.return.1 = diff(data$vwindd)/data$vwindd
diff(data$vwindd)/data$vwindd
type (diff(data$vwindd))
# Total period of holding period return
Q1.return.1 = lag(data$vwindd)/data$vwindd
lag(data$vwindd)
View(data)
lag(data$vwindd)
lag(data$vwindd)
# Total period of holding period return
Q1.return.1 = diff(data$vwindd)/lag(data$vwindd,1)
shift(data$vwindd, n=1, fill=NA, type="lag")
library(data.table)
# Total period of holding period return
Q1.return.1 = diff(data$vwindd)/shift(data$vwindd)
shift(data$vwindd)
diff(data$vwindd)
diff(data$vwindd)
# Total period of holding period return
Q1.return.1 = diff(data$vwindd)/data$vwindd
diff(data$vwindd)/data$vwindd
# Total period of holding period return
yearlyReturn(data$caldt)
# Total period of holding period return
yearlyReturn(data$caldt)
data$caldt
# Total period of holding period return
yearlyReturn(data$vwindd)
# data cleaning
data$caldt = as.Date(as.character(data$caldt),"%Y%m%d")
xts(data[,-1], order.by=as.Date(data$caldt))
data <- read_csv("Desktop/404 Coorperate Finance /HW1/data.csv")
# data cleaning
data$caldt = as.Date(as.character(data$caldt),"%Y%m%d")
xts(data[,-1], order.by=as.Date(data$caldt))
yearlyReturn(data$vwindd)
View(data)
data = xts(data[,-1], order.by=as.Date(data$caldt))
type(data)
class(data)
yearlyReturn(data$vwindd)
diff(data$vwindd)/data$vwindd
diff(data$vwindd)
diff(data$vwindd)/shift(data$vwindd)
yearlyReturn(data$vwindd)
Q1.return.1 = yearlyReturn(data$vwindd)
Q1.return.2 = yearlyReturn(data$ewindd)
Q1.return.3 = yearlyReturn(data$CAP1IND)
Q1.return.4 = yearlyReturn(data$CAP10IND)
#Q2
arith.ave.1 = mean(Q1.return.1)
arith.ave.2 = mean(Q1.return.2)
arith.ave.3 = mean(Q1.return.3)
arith.ave.4 = mean(Q1.return.4)
mean(Q1.return.1)
sd(Q1.return.1)
#Q3
sd.1 = sd(Q1.return.1)
sd.2 = sd(Q1.return.2)
sd.3 = sd(Q1.return.3)
sd.4 = sd(Q1.return.4)
data$vwindd[1]
data$vwindd/ data$vwindd[1]
Q1.return.1 = data$vwindd/( data$vwindd[1])
data$vwindd/( data$vwindd[1])
data$vwindd[1]
data$vwindd
data$vwindd - data$vwindd[1]
data$vwindd
data$vwindd - 1
as.numeric(data$vwindd[1])
data$vwindd - as.numeric(data$vwindd[1])
data$vwindd
as.numeric(data$vwindd[1])
data <- read_csv("Desktop/404 Coorperate Finance /HW1/data.csv")
# data cleaning
data$caldt = as.Date(as.character(data$caldt),"%Y%m%d")
data = xts(data[,-1], order.by=as.Date(data$caldt))
# Q1
# Total period of holding period return
Q1.return.1 = diff(data$vwindd)/shift(data$vwindd)
Q1.return.1 = data$vwindd - as.numeric(data$vwindd[1])
View(data)
Q1.return.1 = (data$vwindd - as.numeric(data$vwindd[1]))/data$vwindd
Q1.return.1
Q1.return.1 = (data$vwindd - as.numeric(data$vwindd[1]))/as.numeric(data$vwindd[1])
Q1.return.1
Q1.return.1 = (data$vwindd - as.numeric(data$vwindd[1]))/as.numeric(data$vwindd[1])
Q1.return.2 = (data$ewindd - as.numeric(data$ewindd[1]))/as.numeric(data$ewindd[1])
Q1.return.3 = (data$CAP1IND - as.numeric(data$CAP1IND[1]))/as.numeric(data$CAP1IND[1])
Q1.return.4 = (data$CAP10IND - as.numeric(data$CAP10IND[1]))/as.numeric(data$CAP10IND[1])
#Q2
Q1.return.1 = yearlyReturn(Q1.return.1)
Q1.return.2 = yearlyReturn(Q1.return.2)
Q1.return.3 = yearlyReturn(Q1.return.3)
Q1.return.4 = yearlyReturn(Q1.return.4)
Q1.return.1
#Q2
Q1.return.1 = yearlyReturn(data$vwindd)
Q1.return.2 = yearlyReturn(data$ewindd)
Q1.return.3 = yearlyReturn(data$CAP1IND)
Q1.return.4 = yearlyReturn(data$CAP10IND)
Q1.return.1
mean(Q1.return.1)
Q1.return.1 + 1
# Q4 geometric rate of return
geom.ave.1 = prod(Q1.return.1 + 1 )
prod(Q1.return.1 + 1 )
(data$vwindd - as.numeric(data$vwindd[1]))/as.numeric(data$vwindd[1])
prod(Q1.return.1 + 1 )
# Q4 geometric rate of return
geom.ave.1 = prod(Q1.return.1 + 1 ) - 1
arith.ave.2 = prod(Q1.return.2 + 1 ) - 1
arith.ave.3 = prod(Q1.return.3 + 1 ) - 1
arith.ave.4 = prod(Q1.return.4 + 1 ) - 1
prod(Q1.return.1 + 1 ) - 1
prod(Q1.return.2 + 1 ) - 1
prod(Q1.return.3 + 1 ) - 1
# Q4 geometric rate of return
geom.ave.1 = prod(Q1.return.1 + 1 ) - 1
geom.ave.2 = prod(Q1.return.2 + 1 ) - 1
geom.ave.3 = prod(Q1.return.3 + 1 ) - 1
geom.ave.4 = prod(Q1.return.4 + 1 ) - 1
#Q2
read.csv("Q2")
setwd("~/Desktop/405 Computational Methods/HW1")
#Q2
read.csv("Q2")
#Q2
read_csv("Q2.csv")
library(readr)
#Q2
read_csv("Q2.csv")
#Q2
Q2 = read_csv("Q2.csv")
hist(Q2)
as.numeric(Q2)
View(Q2)
c(Q2)
hist(c(Q2))
as.numeric(c(Q2))
as.numeric(unlist(Q2))
hist(as.numeric(unlist(Q2)))
ggplot() + geomhist(as.numeric(unlist(Q2)))
ggplot2() + geomhist(as.numeric(unlist(Q2)))
#Q3
Q3 = read_csv("Q3.csv")
hist(as.numeric(unlist(Q3)))
ggplot2() + geomhist(as.numeric(unlist(Q2)))
#Q2
Q2 = read_csv("Q2.csv")
ggplot2() + geomhist(as.numeric(unlist(Q2)))
#Q2
Q2 = read_csv("Q2.csv")
ggplot2() + geomhist(as.numeric(unlist(Q2)))
#Q3
Q3 = read_csv("Q3.csv")
hist(as.numeric(unlist(Q3)))
ggplot() + geomhist(as.numeric(unlist(Q2)))
ggplot() + geomhist(as.numeric(unlist(Q2)))
ggplot() + geom_count(as.numeric(unlist(Q2)))
ggplot() + geom_histogram(as.numeric(unlist(Q3)))
ggplot2() + geom_histogram(as.numeric(unlist(Q3)))
runif(1)
runif(1)
runif(1)
k[i]++
hist(rbinom(1000, 44, 0, 1))
k[i]++
hist(rbinom(1000, 44, 0, 1))
hist(rbinom(1000, 44, 0, 1))
hist(rbinom(1000, 44, 0.64))
hist(rbinom(10000000, 44, 0.64))
skewness(rbinom(10000000, 44, 0.64))
library(e1071)
skewness(rbinom(10000000, 44, 0.64))
ggplot() + geom_histogram(as.numeric(unlist(Q3)))
library(ggplot2)
ggplot() + geom_histogram(as.numeric(unlist(Q3)))
ggplot() + geom_histogram(aes(as.numeric(unlist(Q3)))
ggplot() + geom_histogram(aes(as.numeric(unlist(Q3))))
ggplot() + geom_histogram(aes(as.numeric(unlist(Q3))))
hist(Q2)
hist(as.numeric(unlist(Q3)))
hist(as.numeric(unlist(Q3)), break = 100)
hist(as.numeric(unlist(Q3)), breaks = 100)
hist(as.numeric(unlist(Q3)), breaks = 10)
hist(as.numeric(unlist(Q3)), breaks = c(-10,20))
hist(as.numeric(unlist(Q3)), breaks = c(-10,30,5))
hist(as.numeric(unlist(Q3)), breaks = 50)
?hist
hist(as.numeric(unlist(Q2)), breaks = 50, xlab = "X")
hist(as.numeric(unlist(Q2)), xlab = "X")
hist(as.numeric(unlist(Q2)), xlab = "X", main = "histgram of ")
hist(as.numeric(unlist(Q2)), xlab = "X", main = "Histgram of X", col = 'b')
hist(as.numeric(unlist(Q2)), xlab = "X", main = "Histgram of X", col = 'blue')
ggplot() + geom_bar(as.numeric(unlist(Q3)))
ggplot() + geom_bar(aes(as.numeric(unlist(Q3))))
ggplot() + geom_bar(aes(as.numeric(unlist(Q2))))
ggplot() + geom_bar(aes(as.numeric(unlist(Q3))))
ggplot() + geom_bar(aes(as.numeric(unlist(Q2)))) + title(Q2)
ggplot() + geom_bar(aes(as.numeric(unlist(Q2)))) + title('Q2')
ggplot() + geom_bar(aes(as.numeric(unlist(Q2)))) + title('Q2')
ggplot() + geom_bar(aes(as.numeric(unlist(Q2)))) + xlab("X")
ggplot() + geom_bar(aes(as.numeric(unlist(Q2)))) + xlab("X") + title("Q2 Distribution")
ggplot() + geom_bar(aes(as.numeric(unlist(Q3))))
ggplot() + geom_bar(aes(as.numeric(unlist(Q3)))) + xlab("X")
#Q4
Q4 = read_csv("Q4.csv")
library(readr)
library(ggplot2)
#Q2
Q2 = read_csv("Q2.csv")
hist(as.numeric(unlist(Q2)), xlab = "X", main = "Histgram of X", col = 'blue')
ggplot() + geom_bar(aes(as.numeric(unlist(Q2)))) + xlab("X") + title("Q2 Distribution")
#Q3
Q3 = read_csv("Q3.csv")
ggplot() + geom_bar(aes(as.numeric(unlist(Q3)))) + xlab("X")
#Q4
Q4 = read_csv("Q4.csv")
ggplot() + geom_bar(aes(as.numeric(unlist(Q3)))) + xlab("X")
ggplot() + geom_bar(aes(as.numeric(unlist(Q4)))) + xlab("X")
View(Q4)
ggplot() + geom_col(aes(as.numeric(unlist(Q4)))) + xlab("X")
ggplot() + geom_count(aes(as.numeric(unlist(Q4)))) + xlab("X")
ggplot() + geom_histogram(aes(as.numeric(unlist(Q4)))) + xlab("X")
ggplot() + geom_histogram(aes(as.numeric(unlist(Q4))),bins = 200) + xlab("X")
ggplot() + geom_histogram(aes(as.numeric(unlist(Q4))), bins = 50) + xlab("X")
ggplot() + geom_histogram(aes(as.numeric(unlist(Q4))), bins = 100) + xlab("X")
